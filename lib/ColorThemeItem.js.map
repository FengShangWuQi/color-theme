{"version":3,"sources":["../src/ColorThemeItem.js"],"names":["ColorThemeItem","props","handleThemeChange","bind","handleAdd","handleDeleteChange","handleCancelDelete","handleDelete","state","NUM","color","length","isRemove","removeItems","nextProps","active","setState","id","backgroundColor","onColorChange","onBgChange","onClickChange","onAddChange","key","push","index","indexOf","splice","onDeleteChange","disRemove","liStyle","Object","assign","height","oneSetTheme","map","curr","background","propTypes","number","isRequired","bool","array","string","func"],"mappings":"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","file":"ColorThemeItem.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './style.css';\n\nimport { SELECTSTYLE } from './constants';\nimport ColorItem from './ColorItem';\n\nclass ColorThemeItem extends Component {\n  static propTypes = {\n    id: PropTypes.number.isRequired,\n    active: PropTypes.bool.isRequired,\n    disRemove: PropTypes.bool.isRequired,\n    color: PropTypes.array.isRequired,\n    backgroundColor: PropTypes.string.isRequired,\n    onColorChange: PropTypes.func.isRequired,\n    onBgChange: PropTypes.func.isRequired,\n    onAddChange: PropTypes.func.isRequired,\n    onDeleteChange: PropTypes.func.isRequired,\n    onClickChange: PropTypes.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.handleThemeChange = this.handleThemeChange.bind(this);\n    this.handleAdd = this.handleAdd.bind(this);\n    this.handleDeleteChange = this.handleDeleteChange.bind(this);\n    this.handleCancelDelete = this.handleCancelDelete.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.state = {\n      NUM: this.props.color.length,\n      isRemove: false,\n      removeItems: [],\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.active !== this.props.active) {\n      this.setState({\n        isRemove: false,\n        removeItems: [],\n      });\n    }\n  }\n\n  /** 处理主题 */\n  handleThemeChange() {\n    const { id, color, backgroundColor } = this.props;\n\n    this.props.onColorChange(color);\n    if (!!backgroundColor) {\n      this.props.onBgChange(backgroundColor);\n    }\n    this.props.onClickChange(id);\n  }\n\n  /** 增加色块 */\n  handleAdd() {\n    if (!this.state.isRemove) {\n      this.props.onAddChange(this.props.color);\n    }\n  }\n\n  /** 处理删除色块 */\n  handleDeleteChange(key) {\n    const { removeItems } = this.state;\n\n    removeItems.push(key);\n    this.setState({\n      removeItems,\n    });\n  }\n\n  /** 取消删除色块 */\n  handleCancelDelete(key) {\n    const { removeItems } = this.state;\n\n    const index = removeItems.indexOf(key);\n    if (index !== -1) {\n      removeItems.splice(index, 1);\n      this.setState({\n        removeItems,\n      });\n    }\n  }\n\n  /** 删除色块 */\n  handleDelete() {\n    const { isRemove, removeItems } = this.state;\n\n    if (isRemove && removeItems.length !== 0) {\n      this.props.onDeleteChange(removeItems);\n      this.setState({\n        removeItems: [],\n      });\n    }\n    if (!this.props.disRemove) {\n      this.setState({\n        isRemove: !isRemove,\n      });\n    }\n  }\n\n  render() {\n    const { color, backgroundColor, active, disRemove } = this.props;\n    const { isRemove, NUM } = this.state;\n\n    const liStyle = active ?\n      Object.assign({\n        height: 'auto',\n        backgroundColor,\n      }, SELECTSTYLE) : { height: '31px', backgroundColor, };\n    const oneSetTheme = color.map((curr, index) => (\n      <ColorItem\n        key={index}\n        id={index}\n        color={curr}\n        isDelete={backgroundColor === '' || !!(index > NUM - 1)}\n        isRemove={isRemove && !disRemove}\n        onDeleteChange={this.handleDeleteChange}\n        onCancelDelete={this.handleCancelDelete}\n      />\n    ));\n\n    return (\n      <li\n        className=\"colorTheme-li\"\n        style={liStyle}\n        onClick={this.handleThemeChange}\n      >\n        {oneSetTheme}\n        <span\n          className=\"colorTheme-li-span colorTheme-li-icon\"\n          onClick={this.handleAdd}\n        >\n          +\n        </span>\n        <span className=\"colorTheme-li-span colorTheme-li-icon\"\n          onClick={this.handleDelete}\n          style={ isRemove ? { color: '#fff', background: '#424242' } : null }\n        >\n          -\n        </span>\n      </li>\n    );\n  }\n}\n\nexport default ColorThemeItem;\n"]}
{"version":3,"sources":["../src/ColorThemeItem.js"],"names":["ColorThemeItem","props","handleThemeChange","id","color","backgroundColor","onColorChange","onBgChange","onClickChange","handleAdd","state","isRemove","onAddChange","handleDeleteChange","key","removeItems","push","setState","handleCancelDelete","index","indexOf","splice","handleDelete","length","onDeleteChange","disRemove","NUM","nextProps","active","liStyle","Object","assign","height","oneSetTheme","map","curr","background","propTypes","number","isRequired","bool","array","string","func"],"mappings":"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","file":"ColorThemeItem.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './style.css';\n\nimport { SELECTSTYLE } from './constants';\nimport ColorItem from './ColorItem';\n\nclass ColorThemeItem extends Component {\n  static propTypes = {\n    id: PropTypes.number.isRequired,\n    active: PropTypes.bool.isRequired,\n    disRemove: PropTypes.bool.isRequired,\n    color: PropTypes.array.isRequired,\n    backgroundColor: PropTypes.string.isRequired,\n    onColorChange: PropTypes.func.isRequired,\n    onBgChange: PropTypes.func.isRequired,\n    onAddChange: PropTypes.func.isRequired,\n    onDeleteChange: PropTypes.func.isRequired,\n    onClickChange: PropTypes.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      NUM: this.props.color.length,\n      isRemove: false,\n      removeItems: [],\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.active !== this.props.active) {\n      this.setState({\n        isRemove: false,\n        removeItems: [],\n      });\n    }\n  }\n\n  /** 处理主题 */\n  handleThemeChange = () => {\n    const { id, color, backgroundColor } = this.props;\n\n    this.props.onColorChange(color);\n    if (!!backgroundColor) {\n      this.props.onBgChange(backgroundColor);\n    }\n    this.props.onClickChange(id);\n  }\n\n  /** 增加色块 */\n  handleAdd = () => {\n    if (!this.state.isRemove) {\n      this.props.onAddChange(this.props.color);\n    }\n  }\n\n  /** 处理删除色块 */\n  handleDeleteChange = (key) => {\n    const { removeItems } = this.state;\n\n    removeItems.push(key);\n    this.setState({\n      removeItems,\n    });\n  }\n\n  /** 取消删除色块 */\n  handleCancelDelete = (key) => {\n    const { removeItems } = this.state;\n\n    const index = removeItems.indexOf(key);\n    if (index !== -1) {\n      removeItems.splice(index, 1);\n      this.setState({\n        removeItems,\n      });\n    }\n  }\n\n  /** 删除色块 */\n  handleDelete = () => {\n    const { isRemove, removeItems } = this.state;\n\n    if (isRemove && removeItems.length !== 0) {\n      this.props.onDeleteChange(removeItems);\n      this.setState({\n        removeItems: [],\n      });\n    }\n    if (!this.props.disRemove) {\n      this.setState({\n        isRemove: !isRemove,\n      });\n    }\n  }\n\n  render() {\n    const { color, backgroundColor, active, disRemove } = this.props;\n    const { isRemove, NUM } = this.state;\n\n    const liStyle = active ?\n      Object.assign({\n        height: 'auto',\n        backgroundColor,\n      }, SELECTSTYLE) : { height: '31px', backgroundColor, };\n    const oneSetTheme = color.map((curr, index) => (\n      <ColorItem\n        key={index}\n        id={index}\n        color={curr}\n        isDelete={backgroundColor === '' || !!(index > NUM - 1)}\n        isRemove={isRemove && !disRemove}\n        onDeleteChange={this.handleDeleteChange}\n        onCancelDelete={this.handleCancelDelete}\n      />\n    ));\n\n    return (\n      <li\n        className=\"colorTheme-li\"\n        style={liStyle}\n        onClick={this.handleThemeChange}\n      >\n        {oneSetTheme}\n        <span\n          className=\"colorTheme-li-span colorTheme-li-icon\"\n          onClick={this.handleAdd}\n        >\n          +\n        </span>\n        <span className=\"colorTheme-li-span colorTheme-li-icon\"\n          onClick={this.handleDelete}\n          style={ isRemove ? { color: '#fff', background: '#424242' } : null }\n        >\n          -\n        </span>\n      </li>\n    );\n  }\n}\n\nexport default ColorThemeItem;\n"]}
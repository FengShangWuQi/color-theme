{"version":3,"sources":["../../../src/components/ColorThemeItem/index.js"],"names":["Actions","mapStateToProps","colorTheme","mapDispatchToProps","actions","dispatch","ColorThemeItem","props","handleThemeChange","id","color","background","disRemove","isRemove","state","onClickChange","onColorChange","onBgChange","handleAdd","onAddChange","e","stopPropagation","handleDeleteChange","removeItems","push","key","setState","handleCancelDelete","index","indexOf","splice","handleDelete","toJS","length","onDeleteChange","NUM","nextProps","active","liStyle","height","oneSetTheme","map","curr","propTypes","number","isRequired","bool","array","string","func","object"],"mappings":"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","file":"index.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport ColorItem from '../ColorItem';\nimport * as Actions from '../../actions';\nimport { getSelectedStyle } from '../../utils';\nimport '../../style.css';\n\nconst mapStateToProps = ({ colorTheme }) => ({ colorTheme });\nconst mapDispatchToProps = dispatch => ({\n  actions: bindActionCreators(Actions, dispatch),\n});\n\nclass ColorThemeItem extends Component {\n  static propTypes = {\n    id: PropTypes.number.isRequired,\n    active: PropTypes.bool.isRequired,\n    disRemove: PropTypes.bool.isRequired,\n    color: PropTypes.array.isRequired,\n    background: PropTypes.string.isRequired,\n    onColorChange: PropTypes.func.isRequired,\n    onBgChange: PropTypes.func.isRequired,\n    onAddChange: PropTypes.func.isRequired,\n    onDeleteChange: PropTypes.func.isRequired,\n    onClickChange: PropTypes.func.isRequired,\n    actions: PropTypes.object.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      NUM: this.props.color.length,\n      isRemove: false,\n      removeItems: [],\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.active !== this.props.active) {\n      this.setState({\n        isRemove: false,\n        removeItems: [],\n      });\n    }\n  }\n\n  handleThemeChange = () => {\n    const { id, color, background, disRemove } = this.props;\n    const { isRemove } = this.state;\n\n    if (!(!disRemove && isRemove)) {\n      this.props.onClickChange(id);\n      this.props.onColorChange(id, color);\n      if (background) {\n        this.props.onBgChange(id, background);\n      }\n    }\n  };\n\n  handleAdd = e => {\n    const { isRemove } = this.state;\n    if (!isRemove) {\n      this.props.onAddChange(this.props.color);\n    }\n    if (!this.props.disRemove && isRemove) {\n      e.stopPropagation();\n    }\n  };\n\n  handleDeleteChange = key => {\n    const { removeItems } = this.state;\n\n    removeItems.push(key);\n    this.setState({\n      removeItems,\n    });\n  };\n\n  handleCancelDelete = key => {\n    const { removeItems } = this.state;\n\n    const index = removeItems.indexOf(key);\n    if (index !== -1) {\n      removeItems.splice(index, 1);\n      this.setState({\n        removeItems,\n      });\n    }\n  };\n\n  handleDelete = e => {\n    const { id, colorTheme } = this.props;\n    const { index } = colorTheme.toJS();\n    const { isRemove, removeItems } = this.state;\n\n    if (isRemove && removeItems.length !== 0) {\n      this.props.onDeleteChange(removeItems);\n      this.setState({\n        removeItems: [],\n      });\n    }\n    if (!this.props.disRemove) {\n      this.setState({\n        isRemove: !isRemove,\n      });\n    }\n    if (id === index) {\n      e.stopPropagation();\n    }\n  };\n\n  render() {\n    const { color, background, active, disRemove } = this.props;\n    const { isRemove, NUM } = this.state;\n\n    const liStyle = active\n      ? Object.assign(\n          {\n            height: 'auto',\n          },\n          getSelectedStyle()\n        )\n      : { height: '31px' };\n    const oneSetTheme = color.map((curr, index) => (\n      <ColorItem\n        key={index}\n        id={index}\n        color={curr}\n        isDelete={background === '' || !!(index > NUM - 1)}\n        isRemove={isRemove && !disRemove}\n        onDeleteChange={this.handleDeleteChange}\n        onCancelDelete={this.handleCancelDelete}\n      />\n    ));\n\n    return (\n      <li\n        className=\"colorTheme-li\"\n        style={Object.assign({ background }, liStyle)}\n        onClick={this.handleThemeChange}\n      >\n        {oneSetTheme}\n        <span\n          className=\"colorTheme-li-span colorTheme-li-icon\"\n          onClick={e => this.handleAdd(e)}\n        >\n          +\n        </span>\n        <span\n          className=\"colorTheme-li-span colorTheme-li-icon\"\n          onClick={e => this.handleDelete(e)}\n          style={isRemove ? { color: '#fff', background: '#424242' } : null}\n        >\n          -\n        </span>\n      </li>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ColorThemeItem);\n"]}
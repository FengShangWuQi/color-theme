{"version":3,"sources":["../src/ColorItem.js"],"names":["ColorItem","handleDelete","props","id","isDelete","isRemove","active","state","onDeleteChange","setState","style","onCancelDelete","nextProps","color","originStyle","background","activeStyle","opacity","colorStyle","Object","assign","propTypes","number","isRequired","string","bool","func"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;AAEA;;AAEA;;;;;;;;;;IAEMA,S;;;AAWJ,uBAAc;AAAA;;AAAA;;AAAA,UAkBdC,YAlBc,GAkBC,YAAM;AAAA,wBACgB,MAAKC,KADrB;AAAA,UACXC,EADW,eACXA,EADW;AAAA,UACPC,QADO,eACPA,QADO;AAAA,UACGC,QADH,eACGA,QADH;AAAA,UAEXC,MAFW,GAEA,MAAKC,KAFL,CAEXD,MAFW;;;AAInB,UAAIF,YAAYC,QAAhB,EAA0B;AACxB,YAAI,CAACC,MAAL,EAAa;AACX,gBAAKJ,KAAL,CAAWM,cAAX,CAA0BL,EAA1B;AACA,gBAAKM,QAAL,CAAc;AACZC;AADY,WAAd;AAGD,SALD,MAKO;AACL,gBAAKR,KAAL,CAAWS,cAAX,CAA0BR,EAA1B;AACA,gBAAKM,QAAL,CAAc;AACZC,mBAAO;AADK,WAAd;AAGD;AACD,cAAKD,QAAL,CAAc;AACZH,kBAAQ,CAACA;AADG,SAAd;AAGD;AACF,KAtCa;;AAEZ,UAAKC,KAAL,GAAa;AACXG,aAAO,EADI;AAEXJ,cAAQ;AAFG,KAAb;AAFY;AAMb;;;;8CAEyBM,S,EAAW;AACnC,UAAIA,UAAUP,QAAV,KAAuB,KAAKH,KAAL,CAAWG,QAAtC,EAAgD;AAC9C,aAAKI,QAAL,CAAc;AACZC,iBAAO,EADK;AAEZJ,kBAAQ;AAFI,SAAd;AAID;AACF;;AAED;;;;6BAuBS;AAAA,mBAC+B,KAAKJ,KADpC;AAAA,UACCW,KADD,UACCA,KADD;AAAA,UACQT,QADR,UACQA,QADR;AAAA,UACkBC,QADlB,UACkBA,QADlB;;;AAGP,UAAMS,yBAAgBC,YAAYF,KAA5B,IAAsC,KAAKN,KAAL,CAAWG,KAAjD,CAAN;AACA,UAAMM,cAAc,CAACZ,QAAD,GAAY,EAAEa,SAAS,IAAX,EAAZ,GAAgC,IAApD;AACA,UAAMC,aAAab,WAAWc,OAAOC,MAAP,CAAcN,WAAd,EAA2BE,WAA3B,CAAX,GAAqDF,WAAxE;;AAEA,aACE;AACE,mBAAU,oBADZ;AAEE,eAAOI,UAFT;AAGE,iBAAS,KAAKjB;AAHhB,QADF;AAQD;;;;;;AAlEGD,S,CAEGqB,S,GAAY;AACjBlB,MAAI,oBAAUmB,MAAV,CAAiBC,UADJ;AAEjBV,SAAO,oBAAUW,MAAV,CAAiBD,UAFP;AAGjBnB,YAAU,oBAAUqB,IAAV,CAAeF,UAHR;AAIjBlB,YAAU,oBAAUoB,IAAV,CAAeF,UAJR;AAKjBf,kBAAgB,oBAAUkB,IAAV,CAAeH,UALd;AAMjBZ,kBAAgB,oBAAUe,IAAV,CAAeH;AANd,C;kBAmENvB,S","file":"ColorItem.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './style.css';\n\nimport { SELECTSTYLE } from './constants';\n\nclass ColorItem extends Component {\n\n  static propTypes = {\n    id: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired,\n    isDelete: PropTypes.bool.isRequired,\n    isRemove: PropTypes.bool.isRequired,\n    onDeleteChange: PropTypes.func.isRequired,\n    onCancelDelete: PropTypes.func.isRequired,\n  };\n\n  constructor() {\n    super();\n    this.state = {\n      style: {},\n      active: false,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.isRemove !== this.props.isRemove) {\n      this.setState({\n        style: {},\n        active: false,\n      });\n    }\n  }\n\n  /** 删除色块 */\n  handleDelete = () => {\n    const { id, isDelete, isRemove } = this.props;\n    const { active } = this.state;\n\n    if (isDelete && isRemove) {\n      if (!active) {\n        this.props.onDeleteChange(id);\n        this.setState({\n          style: SELECTSTYLE,\n        });\n      } else {\n        this.props.onCancelDelete(id);\n        this.setState({\n          style: {},\n        });\n      }\n      this.setState({\n        active: !active,\n      });\n    }\n  }\n\n  render() {\n    const { color, isDelete, isRemove } = this.props;\n\n    const originStyle = { background: color, ...this.state.style };\n    const activeStyle = !isDelete ? { opacity: 0.15 } : null;\n    const colorStyle = isRemove ? Object.assign(originStyle, activeStyle) : originStyle;\n\n    return (\n      <span\n        className=\"colorTheme-li-span\"\n        style={colorStyle}\n        onClick={this.handleDelete}\n      >\n      </span>\n    );\n  }\n}\n\nexport default ColorItem;\n"]}
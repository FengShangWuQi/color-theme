{"version":3,"sources":["../src/ColorItem.js"],"names":["ColorItem","handleDelete","bind","state","style","active","nextProps","isRemove","props","setState","id","isDelete","onDeleteChange","onCancelDelete","color","originStyle","background","activeStyle","opacity","colorStyle","Object","assign","propTypes","number","isRequired","string","bool","func"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;AAEA;;AAEA;;;;;;;;;;IAEMA,S;;;AAWJ,uBAAc;AAAA;;AAAA;;AAEZ,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,OAApB;AACA,UAAKC,KAAL,GAAa;AACXC,aAAO,EADI;AAEXC,cAAQ;AAFG,KAAb;AAHY;AAOb;;;;8CAEyBC,S,EAAW;AACnC,UAAIA,UAAUC,QAAV,KAAuB,KAAKC,KAAL,CAAWD,QAAtC,EAAgD;AAC9C,aAAKE,QAAL,CAAc;AACZL,iBAAO,EADK;AAEZC,kBAAQ;AAFI,SAAd;AAID;AACF;;AAED;;;;mCACe;AAAA,mBACsB,KAAKG,KAD3B;AAAA,UACLE,EADK,UACLA,EADK;AAAA,UACDC,QADC,UACDA,QADC;AAAA,UACSJ,QADT,UACSA,QADT;AAAA,UAELF,MAFK,GAEM,KAAKF,KAFX,CAELE,MAFK;;;AAIb,UAAIM,YAAYJ,QAAhB,EAA0B;AACxB,YAAI,CAACF,MAAL,EAAa;AACX,eAAKG,KAAL,CAAWI,cAAX,CAA0BF,EAA1B;AACA,eAAKD,QAAL,CAAc;AACZL;AADY,WAAd;AAGD,SALD,MAKO;AACL,eAAKI,KAAL,CAAWK,cAAX,CAA0BH,EAA1B;AACA,eAAKD,QAAL,CAAc;AACZL,mBAAO;AADK,WAAd;AAGD;AACD,aAAKK,QAAL,CAAc;AACZJ,kBAAQ,CAACA;AADG,SAAd;AAGD;AACF;;;6BAEQ;AAAA,oBAC+B,KAAKG,KADpC;AAAA,UACCM,KADD,WACCA,KADD;AAAA,UACQH,QADR,WACQA,QADR;AAAA,UACkBJ,QADlB,WACkBA,QADlB;;;AAGP,UAAMQ,yBAAgBC,YAAYF,KAA5B,IAAsC,KAAKX,KAAL,CAAWC,KAAjD,CAAN;AACA,UAAMa,cAAc,CAACN,QAAD,GAAY,EAAEO,SAAS,IAAX,EAAZ,GAAgC,IAApD;AACA,UAAMC,aAAaZ,WAAWa,OAAOC,MAAP,CAAcN,WAAd,EAA2BE,WAA3B,CAAX,GAAqDF,WAAxE;;AAEA,aACE;AACE,mBAAU,oBADZ;AAEE,eAAOI,UAFT;AAGE,iBAAS,KAAKlB;AAHhB,QADF;AAQD;;;;;;AAnEGD,S,CAEGsB,S,GAAY;AACjBZ,MAAI,oBAAUa,MAAV,CAAiBC,UADJ;AAEjBV,SAAO,oBAAUW,MAAV,CAAiBD,UAFP;AAGjBb,YAAU,oBAAUe,IAAV,CAAeF,UAHR;AAIjBjB,YAAU,oBAAUmB,IAAV,CAAeF,UAJR;AAKjBZ,kBAAgB,oBAAUe,IAAV,CAAeH,UALd;AAMjBX,kBAAgB,oBAAUc,IAAV,CAAeH;AANd,C;kBAoENxB,S","file":"ColorItem.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './style.css';\n\nimport { SELECTSTYLE } from './constants';\n\nclass ColorItem extends Component {\n\n  static propTypes = {\n    id: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired,\n    isDelete: PropTypes.bool.isRequired,\n    isRemove: PropTypes.bool.isRequired,\n    onDeleteChange: PropTypes.func.isRequired,\n    onCancelDelete: PropTypes.func.isRequired,\n  };\n\n  constructor() {\n    super();\n    this.handleDelete = this.handleDelete.bind(this);\n    this.state = {\n      style: {},\n      active: false,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.isRemove !== this.props.isRemove) {\n      this.setState({\n        style: {},\n        active: false,\n      });\n    }\n  }\n\n  /** 删除色块 */\n  handleDelete() {\n    const { id, isDelete, isRemove } = this.props;\n    const { active } = this.state;\n\n    if (isDelete && isRemove) {\n      if (!active) {\n        this.props.onDeleteChange(id);\n        this.setState({\n          style: SELECTSTYLE,\n        });\n      } else {\n        this.props.onCancelDelete(id);\n        this.setState({\n          style: {},\n        });\n      }\n      this.setState({\n        active: !active,\n      });\n    }\n  }\n\n  render() {\n    const { color, isDelete, isRemove } = this.props;\n\n    const originStyle = { background: color, ...this.state.style };\n    const activeStyle = !isDelete ? { opacity: 0.15 } : null;\n    const colorStyle = isRemove ? Object.assign(originStyle, activeStyle) : originStyle;\n\n    return (\n      <span\n        className=\"colorTheme-li-span\"\n        style={colorStyle}\n        onClick={this.handleDelete}\n      >\n      </span>\n    );\n  }\n}\n\nexport default ColorItem;\n"]}